


<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –±–∞—Ç–∞—Ä–µ–∏ Victron</title>
</head>
<body>
  <h1>üîã –£—Ä–æ–≤–µ–Ω—å –∑–∞—Ä—è–¥–∞ –±–∞—Ç–∞—Ä–µ–∏</h1>
  
  <p id="soc">SoC: ...</p>
  <p id="volt">–ù–∞–ø—Ä—è–∂–µ–Ω–∏–µ: ...</p>
  <p id="curr">–¢–æ–∫: ...</p>
  <p id="power">–ú–æ—â–Ω–æ—Å—Ç—å: ...</p>
  <p id="soh">SOH: ...</p>
  <script>
   

    async function fetchStatus() {
  const res = await fetch('/api/modbus/battery_status');
  const data = await res.json();
  document.getElementById('soc').innerText = `üîã SoC: ${data.soc}%`;
  document.getElementById('volt').innerText = `üîå –ù–∞–ø—Ä—è–∂–µ–Ω–∏–µ: ${data.voltage} –í`;
  document.getElementById('curr').innerText = `‚ö° –¢–æ–∫: ${data.current} –ê`;
  document.getElementById('power').innerText = `üí° –ú–æ—â–Ω–æ—Å—Ç—å: ${data.power} –í—Ç`;
  document.getElementById('soh').innerText = `‚ù§Ô∏è SOH: ${data.soh}%`;
}


fetchStatus();
    setInterval(fetchStatus, 1000); // –æ–±–Ω–æ–≤–ª—è—Ç—å –∫–∞–∂–¥—ã–µ 10 —Å–µ–∫—É–Ω–¥
  </script>
</body>
</html>